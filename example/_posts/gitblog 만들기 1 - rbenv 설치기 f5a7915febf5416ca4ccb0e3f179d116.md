# gitblog 만들기 1 - rbenv 설치기

[https://supermemi.tistory.com/145](https://supermemi.tistory.com/145)

gitblog를 커스텀 하기 위해서는 jekyll를 설치해야한다.

근데 jekyll를 설치하기위해서는 homebrew를 통해 rbenv를 설치해야함.

하지만 맥북의 정보를 마이그레이션하며 2019 맥북부터 써온 나는 homebrew 자체에 경로관련 하자가 있었고 rbenv 설치하는데 백만년이 걸림.

<실패기>

1. brew update
    
    ![스크린샷 2023-03-22 오후 6.51.21.png](gitblog%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%201%20-%20rbenv%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%80%E1%85%B5%20f5a7915febf5416ca4ccb0e3f179d116/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-03-22_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_6.51.21.png)
    
    shallow clone 문제 ㅅㅂ
    

1. unshallow clone → permission문제
    
    ![스크린샷 2023-03-22 오후 6.51.52.png](gitblog%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%201%20-%20rbenv%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%80%E1%85%B5%20f5a7915febf5416ca4ccb0e3f179d116/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-03-22_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_6.51.52.png)
    

1. brew 권한 local에서 나로 수정
    
    ![스크린샷 2023-03-22 오후 6.52.51.png](gitblog%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%201%20-%20rbenv%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%80%E1%85%B5%20f5a7915febf5416ca4ccb0e3f179d116/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-03-22_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_6.52.51.png)
    
2. 다시 unshallow clone → 이미 파일 존재

![Untitled](gitblog%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%201%20-%20rbenv%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%80%E1%85%B5%20f5a7915febf5416ca4ccb0e3f179d116/Untitled.png)

1. 

![스크린샷 2023-03-22 오후 6.55.01.png](gitblog%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%201%20-%20rbenv%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%80%E1%85%B5%20f5a7915febf5416ca4ccb0e3f179d116/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-03-22_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_6.55.01.png)

1. 그래도 안됨

![스크린샷 2023-03-22 오후 7.10.02.png](gitblog%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%201%20-%20rbenv%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%80%E1%85%B5%20f5a7915febf5416ca4ccb0e3f179d116/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-03-22_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_7.10.02.png)

이건 이유도 모르겠어

여기부턴 <성공기>

정말 몇시간을 이지랄을 했는데 꽤나 합리적인 문제의 가능성을 발견함

내 노트북은 m1 프로인데, 과거 인텔 맥북에서부터 migrate 해서 사용해옴

그런데 과거 인텔 맥북은 /usr/local에 Homebrew에 설치 되어있고,

m1은 opt/homebrew에 설치되어있음.

이게 어떤 명령어는 과거 위치를 가리키고 어떤 명령어는 현재 위치를 가리키다보니 꼬이게 되는 것 같음.

실제로 /usr/local에 들어가보니 (당연히) Homebrew 파일이 존재함.

1.  두 파일 다 날림

MacBook-Pro-3:local ihaeeun$ sudo rm -rf /usr/local/Homebrew
MacBook-Pro-3:local ihaeeun$ sudo rm -rf /opt/homebrew

![스크린샷 2023-03-22 오후 8.25.37.png](gitblog%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%201%20-%20rbenv%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%80%E1%85%B5%20f5a7915febf5416ca4ccb0e3f179d116/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-03-22_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_8.25.37.png)

1. 날리고 나서 다시 opt에 homebrew 파일 만들고 소유권 나로 만들어줌

MacBook-Pro-3:opt ihaeeun$ sudo mkdir homebrew
MacBook-Pro-3:opt ihaeeun$ sudo chown -R $(whoami) /opt/homebrew

![스크린샷 2023-03-22 오후 8.26.33.png](gitblog%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%201%20-%20rbenv%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%80%E1%85%B5%20f5a7915febf5416ca4ccb0e3f179d116/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-03-22_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_8.26.33.png)

1. git에서 homebrew 다운

curl -L [https://github.com/Homebrew/brew/tarball/master](https://github.com/Homebrew/brew/tarball/master) | tar xz --strip 1 -C homebrew

![스크린샷 2023-03-22 오후 8.27.47.png](gitblog%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%201%20-%20rbenv%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%80%E1%85%B5%20f5a7915febf5416ca4ccb0e3f179d116/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-03-22_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_8.27.47.png)

1. .zshrc에 PATH 추가

echo "export PATH=/opt/homebrew/bin:$PATH" >> ~/.zshrc

![스크린샷 2023-03-22 오후 8.29.13.png](gitblog%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%201%20-%20rbenv%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%80%E1%85%B5%20f5a7915febf5416ca4ccb0e3f179d116/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-03-22_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_8.29.13.png)

1. m1버전 hombrew  스크립트 쉘 가져오기

MacBook-Pro-3:opt ihaeeun$ /bin/bash -c "$(curl -fsSL [https://gist.githubusercontent.com/nrubin29/bea5aa83e8dfa91370fe83b62dad6dfa/raw/48f48f7fef21abb308e129a80b3214c2538fc611/homebrew_m1.sh](https://gist.githubusercontent.com/nrubin29/bea5aa83e8dfa91370fe83b62dad6dfa/raw/48f48f7fef21abb308e129a80b3214c2538fc611/homebrew_m1.sh))"

![스크린샷 2023-03-22 오후 8.29.51.png](gitblog%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%201%20-%20rbenv%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%80%E1%85%B5%20f5a7915febf5416ca4ccb0e3f179d116/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-03-22_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_8.29.51.png)

1. openssl 설치

MacBook-Pro-3:opt ihaeeun$ brew install openssl libffi zlib rbenv readline ruby-build

![스크린샷 2023-03-22 오후 8.31.13.png](gitblog%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%201%20-%20rbenv%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%80%E1%85%B5%20f5a7915febf5416ca4ccb0e3f179d116/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-03-22_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_8.31.13.png)

1. ruby 패키지 매니저(rbenv) 설치완

![스크린샷 2023-03-22 오후 8.32.11.png](gitblog%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%201%20-%20rbenv%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%80%E1%85%B5%20f5a7915febf5416ca4ccb0e3f179d116/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-03-22_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_8.32.11.png)

1. 새로 다운 받은 rbenv 3.1.2 버전 global로 설정

![스크린샷 2023-03-22 오후 8.34.21.png](gitblog%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%201%20-%20rbenv%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%80%E1%85%B5%20f5a7915febf5416ca4ccb0e3f179d116/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-03-22_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_8.34.21.png)

1. PATH 지정

MacBook-Pro-3:opt ihaeeun$ [[ -d ~/.rbenv  ]] && \

> export PATH=${HOME}/.rbenv/bin:${PATH} && \
eval "$(rbenv init -)"
> 

![스크린샷 2023-03-22 오후 8.35.05.png](gitblog%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%201%20-%20rbenv%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%80%E1%85%B5%20f5a7915febf5416ca4ccb0e3f179d116/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-03-22_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_8.35.05.png)

1. bundler 설치

MacBook-Pro-3:opt ihaeeun$ gem install bundler

1. jekyll 설치

MacBook-Pro-3:opt ihaeeun$ gem install jekyll